<UserControl x:Class="Labb3_Quiz.Views.MenuView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:fa="http://schemas.awesome.incremented/wpf/xaml/fontawesome.sharp"
             xmlns:local="clr-namespace:Labb3_Quiz.Views"
             xmlns:viewmodels="clr-namespace:Labb3_Quiz.ViewModels"
             d:DataContext="{d:DesignInstance Type=viewmodels:MainWindowViewModel}"
             mc:Ignorable="d"
             d:DesignHeight="450" d:DesignWidth="800">

    <Grid>
        <Menu>

            <MenuItem Header="_File">
                <MenuItem Header="_New Question Pack"
                          Icon="{fa:Icon FolderPlus}"
                          Command="{Binding NewPackCommand}" />

                <MenuItem Header="_Select Question Pack"
                          Icon="{fa:Icon FolderOpen}"
                          ItemsSource="{Binding Packs}">


                    <MenuItem.ItemContainerStyle>
                        <Style TargetType="MenuItem">
                            <Setter Property="Header"
                                    Value="{Binding Model.Name}" />

                            <Setter Property="Command"
                                    Value="{Binding DataContext.SelectPackCommand,
                                            RelativeSource={RelativeSource AncestorType=UserControl}}" />

                            <Setter Property="CommandParameter"
                                    Value="{Binding}" />
                        </Style>
                    </MenuItem.ItemContainerStyle>
                </MenuItem>
                <MenuItem Header="_Delete Question Pack"
                          Icon="{fa:Icon FolderMinus}"
                          Command="{Binding RemovePackCommand}"
                          CommandParameter="{Binding ActivePack}"
                          IsEnabled="{Binding HasMoreThanOneItem}" />
                <Separator />
                <MenuItem Header="_Import Question Pack"
                          Icon="{fa:Icon FileImport}"
                          InputGestureText="Ctrl+I" />
                <Separator />
                <MenuItem Header="E_xit"
                          Icon="{fa:Icon DoorOpen}"
                          InputGestureText="Alt+F4"
                          Command="{Binding ExitCommand}" />
            </MenuItem>

            <MenuItem Header="_Edit">
                <MenuItem Header="Add Question"
                          Icon="{fa:Icon Plus}"
                          Command="{Binding NewQuestionCommand}" />

                <MenuItem Header="Remove Question"
                          Icon="{fa:Icon Minus}"
                          InputGestureText="Ctrl+R"
                          Command="{Binding RemoveQuestionCommand}"
                          CommandParameter="{Binding ConfigurationViewModel.ActiveQuestion}"
                          IsEnabled="{Binding HasQuestions}" />
                <MenuItem Header="Pack Option"
                          Icon="{fa:Icon Bars}"
                          InputGestureText="Ctrl+O"
                          Command="{Binding OpenPackOptionsCommand}" />
            </MenuItem>

            <MenuItem Header="_View">
                <MenuItem Header="Play"
                          Icon="{fa:Icon Play}"
                          InputGestureText="Ctrl+P"
                          Command="{Binding PlayCommand}"
                          IsEnabled="{Binding CanPlay}" />
                <MenuItem Header="Edit"
                          Icon="{fa:Icon Gear}"
                          InputGestureText="Ctrl+E"
                          Command="{Binding EditCommand}" 
                          IsEnabled="{Binding HasStartedPlay}" />
                <Separator />
                <MenuItem Header="Fullscreen"
                          Icon="{fa:Icon Expand}"
                          InputGestureText="Alt+Enter"
                          Command="{Binding ToggleFullscreenCommand}" />
            </MenuItem>

        </Menu>
    </Grid>

</UserControl>
